_format_version: "1.1"
services:
  - retries: 10
    connect_timeout: 30000
    write_timeout: 30000
    read_timeout: 30000
    name: disputes
    protocol: http
    host: disputes.upstream
    port: 80
    path: /api/v1
    plugins: []
    routes:
      - strip_path: false
        protocols:
          - http
        tags:
          &a1
          - OAS3_import
        name: disputes-getListDispute
        methods:
          - GET
        paths:
          - /disputes$
      - tags: *a1
        name: disputes-getDispute
        methods:
          - GET
        paths:
          - /dispute/(?<id>[^\/]+)$
        strip_path: false
        plugins:
          - name: key-auth
            config:
              key_names:
                - mykey
                - yourkey
              hide_credentials: true
              run_on_preflight: false
            tags:
              - OAS3_import
    tags: *a1
upstreams:
  - name: disputes.upstream
    targets:
      - target: acme-dev-gateway.io:80
        tags: *a1
      - target: acme-dev-gateway.io:80
        tags: *a1
    tags: *a1
